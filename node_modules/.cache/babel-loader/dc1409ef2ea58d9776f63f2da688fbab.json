{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nimport { Component } from 'react';\nimport Link from 'next/link';\nimport jsCookie from 'js-cookie';\n\nvar NewsList =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(NewsList, _Component);\n\n  function NewsList(props) {\n    var _this;\n\n    _classCallCheck(this, NewsList);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(NewsList).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"getList\", function () {\n      _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var date_filter, input, response, _ref2, output, i, item, item_dt;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                date_filter = jsCookie.get('date_filter');\n                input = {};\n                input.date_filter = date_filter;\n                _context.next = 6;\n                return window.fetch('/admin', {\n                  method: 'get',\n                  headers: {\n                    'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8'\n                  },\n                  body: qs.stringify(input)\n                });\n\n              case 6:\n                response = _context.sent;\n\n                if (!response.ok) {\n                  _context.next = 15;\n                  break;\n                }\n\n                _context.next = 10;\n                return response.json();\n\n              case 10:\n                _ref2 = _context.sent;\n                output = _ref2.output;\n\n                if (output.status) {\n                  this.items = output.result;\n                  this.dates = ['All'];\n\n                  if (date_filter == 0 && this.items.length > 0) {\n                    for (i = 0; i < this.items.length; i++) {\n                      item = this.items[i];\n                      item_dt = item.publish_date.split(' ');\n\n                      if (this.dates.indexOf(item_dt[0]) == -1) {\n                        this.dates.push(item_dt[0]);\n                      }\n                    }\n                  }\n                } else {\n                  console.log('List News failed.');\n                }\n\n                _context.next = 16;\n                break;\n\n              case 15:\n                console.log('List News failed.');\n\n              case 16:\n                _context.next = 21;\n                break;\n\n              case 18:\n                _context.prev = 18;\n                _context.t0 = _context[\"catch\"](0);\n                console.log('Implementation or Network error.');\n\n              case 21:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 18]]);\n      }))(_assertThisInitialized(_this));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleChange\", function (e) {\n      if (e.target.name == 'date_filter') {\n        jsCookie.set('date_filter', e.target.value);\n        window.location.href = '/admin';\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"addNewsClick\", function () {\n      jsCookie.set('action', 'add_news');\n      window.location.href = '/admin';\n    });\n\n    _this.state = {};\n    _this.items = [];\n    _this.dates = ['All'];\n    _this.cookie = jsCookie;\n    return _this;\n  }\n\n  _createClass(NewsList, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"jsx-3116770118\" + \" \" + \"content_box\"\n      }, React.createElement(\"div\", {\n        className: \"jsx-3116770118\" + \" \" + \"table_header\"\n      }, React.createElement(\"div\", {\n        className: \"jsx-3116770118\" + \" \" + \"filter_box\"\n      }, React.createElement(\"select\", {\n        name: \"date_filter\",\n        className: \"jsx-3116770118\" + \" \" + \"myselect\"\n      }, this.dates && this.dates.length > 0 && this.dates.map(function (k, v) {\n        console.log(k);\n        console.log(v);\n\n        if (v != 'All') {\n          return React.createElement(\"option\", {\n            value: \"{v}\",\n            className: \"jsx-3116770118\"\n          }, v);\n        } else {\n          return React.createElement(\"option\", {\n            value: \"0\",\n            className: \"jsx-3116770118\"\n          }, \"All\");\n        }\n      }))), React.createElement(\"div\", {\n        onClick: this.addNewsClick,\n        className: \"jsx-3116770118\" + \" \" + \"add_but\"\n      }, \"+ Add News\"), React.createElement(\"div\", {\n        className: \"jsx-3116770118\" + \" \" + \"clear\"\n      })), React.createElement(\"div\", {\n        className: \"jsx-3116770118\" + \" \" + \"clear\"\n      }), React.createElement(_JSXStyle, {\n        id: \"3116770118\"\n      }, \".content_box.jsx-3116770118{height:calc(100% - 60px);padding:8px;}.add_but.jsx-3116770118{float:right;padding:4px 12px 4px 12px;background-color:#006;color:#FFF;border-radius:8px;cursor:pointer;margin-left:12px;}.table_header.jsx-3116770118{float:left;}.filter_box.jsx-3116770118{float:left;}.myselect.jsx-3116770118{font-size:15px;border:2px solid #d3d3d5;background-color:#f3f3f5;border-radius:0px;-webkit-border-radius:0px;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-appearance:none;outline:none;position:relative;text-align:left;z-index:99;line-height:20px;padding:0px 36px 0px 8px;background:url(/static/images/select_arrow.png) no-repeat right #fff;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9rYWkvRGVza3RvcC9iaXRhenphL2JpdGF6emFfdGVzdC9wYWdlcy9hZG1pbi9uZXdzX2xpc3QuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBeUY0QixBQUdpRCxBQUliLEFBU0QsQUFHQSxBQUdJLFdBTGxCLEFBR0EsQ0FaNkIsR0FlRCxVQW5CYixZQUNmLENBSXlCLEVBZUcsb0JBZGQsS0FlTyxNQWRBLFlBZVEsTUFkWCxlQUNFLEtBY0QsWUFibkIsaURBYzRCLHdCQUNaLGFBQ00sa0JBQ0gsZ0JBQ0osV0FDSyxpQkFDUSx5QkFDNEMscUVBQ3hFIiwiZmlsZSI6Ii9Vc2Vycy9rYWkvRGVza3RvcC9iaXRhenphL2JpdGF6emFfdGVzdC9wYWdlcy9hZG1pbi9uZXdzX2xpc3QuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgTGluayBmcm9tICduZXh0L2xpbmsnXG5pbXBvcnQganNDb29raWUgZnJvbSAnanMtY29va2llJztcblxuY2xhc3MgTmV3c0xpc3QgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIFxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5pdGVtcyA9IFtdO1xuICAgICAgICB0aGlzLmRhdGVzID0gWydBbGwnXTtcbiAgICAgICAgdGhpcy5jb29raWUgPSBqc0Nvb2tpZTtcbiAgICB9O1xuICAgICAgICBcbiAgICBnZXRMaXN0ID0gKCkgPT4ge1xuICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgIGFzeW5jIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGVfZmlsdGVyID0ganNDb29raWUuZ2V0KCdkYXRlX2ZpbHRlcicpO1xuICAgICAgICAgICAgICAgICAgICAgIHZhciBpbnB1dCA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgIGlucHV0LmRhdGVfZmlsdGVyID0gZGF0ZV9maWx0ZXI7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB3aW5kb3cuZmV0Y2goJy9hZG1pbicsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ2dldCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD1VVEYtOCd9LFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogcXMuc3RyaW5naWZ5KGlucHV0KVxuICAgICAgICAgICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgb3V0cHV0IH0gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihvdXRwdXQuc3RhdHVzKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLml0ZW1zID0gb3V0cHV0LnJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGVzID0gWydBbGwnXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihkYXRlX2ZpbHRlciA9PSAwICYmIHRoaXMuaXRlbXMubGVuZ3RoID4gMCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLml0ZW1zLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpdGVtID0gdGhpcy5pdGVtc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpdGVtX2R0ID0gaXRlbS5wdWJsaXNoX2RhdGUuc3BsaXQoJyAnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuZGF0ZXMuaW5kZXhPZihpdGVtX2R0WzBdKSA9PSAtMSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRlcy5wdXNoKGl0ZW1fZHRbMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0xpc3QgTmV3cyBmYWlsZWQuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdMaXN0IE5ld3MgZmFpbGVkLicpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnSW1wbGVtZW50YXRpb24gb3IgTmV0d29yayBlcnJvci4nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICkodGhpcyk7XG4gICAgfVxuXG4gICAgaGFuZGxlQ2hhbmdlID0gKGUpID0+IHtcbiAgICAgICAgaWYoZS50YXJnZXQubmFtZSA9PSAnZGF0ZV9maWx0ZXInKXtcbiAgICAgICAgICAgIGpzQ29va2llLnNldCgnZGF0ZV9maWx0ZXInLCBlLnRhcmdldC52YWx1ZSk7XG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYWRtaW4nO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBcbiAgICBhZGROZXdzQ2xpY2sgPSAoKSA9PiB7XG4gICAgICAgIGpzQ29va2llLnNldCgnYWN0aW9uJywgJ2FkZF9uZXdzJyk7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9hZG1pbic7XG4gICAgfTtcbiAgICBcbiAgICBcbiAgICByZW5kZXIgKCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGVudF9ib3hcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRhYmxlX2hlYWRlclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpbHRlcl9ib3hcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IGNsYXNzTmFtZT1cIm15c2VsZWN0XCIgbmFtZT1cImRhdGVfZmlsdGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5kYXRlcyAmJiB0aGlzLmRhdGVzLmxlbmd0aCA+IDAgJiYgdGhpcy5kYXRlcy5tYXAoKGssIHYpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhrKTtcbiAgICAgICAgICBjb25zb2xlLmxvZyh2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih2ICE9ICdBbGwnKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDxvcHRpb24gdmFsdWU9XCJ7dn1cIj57dn08L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDxvcHRpb24gdmFsdWU9XCIwXCI+QWxsPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IG9uQ2xpY2s9e3RoaXMuYWRkTmV3c0NsaWNrfSBjbGFzc05hbWU9XCJhZGRfYnV0XCI+KyBBZGQgTmV3czwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNsZWFyXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjbGVhclwiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgICAgICAgICAgICAgLmNvbnRlbnRfYm94e1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OmNhbGMoMTAwJSAtIDYwcHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzo4cHg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLmFkZF9idXR7XG4gICAgICAgICAgICAgICAgICAgICAgICBmbG9hdDpyaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6NHB4IDEycHggNHB4IDEycHg7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiMwMDY7IFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6I0ZGRjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6OHB4O1xuICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOnBvaW50ZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW4tbGVmdDoxMnB4O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC50YWJsZV9oZWFkZXJ7XG4gICAgICAgICAgICAgICAgICAgICAgICBmbG9hdDpsZWZ0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXJfYm94e1xuICAgICAgICAgICAgICAgICAgICAgICAgZmxvYXQ6bGVmdDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAubXlzZWxlY3R7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6MTVweDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjoycHggc29saWQgI2QzZDNkNTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6I2YzZjNmNTsgXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOjBweDsgXG4gICAgICAgICAgICAgICAgICAgICAgICAtd2Via2l0LWJvcmRlci1yYWRpdXM6MHB4OyBcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVhcmFuY2U6bm9uZTsgXG4gICAgICAgICAgICAgICAgICAgICAgICAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7IFxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0bGluZTpub25lO1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dC1hbGlnbjpsZWZ0O1xuICAgICAgICAgICAgICAgICAgICAgICAgei1pbmRleDogOTk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lLWhlaWdodDoyMHB4O1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzowcHggMzZweCAwcHggOHB4O1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDp1cmwoL3N0YXRpYy9pbWFnZXMvc2VsZWN0X2Fycm93LnBuZykgbm8tcmVwZWF0IHJpZ2h0ICNmZmY7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBgfTwvc3R5bGU+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBOZXdzTGlzdCJdfQ== */\\n/*@ sourceURL=/Users/kai/Desktop/bitazza/bitazza_test/pages/admin/news_list.js */\"));\n    }\n  }]);\n\n  return NewsList;\n}(Component);\n\nexport default NewsList;","map":{"version":3,"sources":["/Users/kai/Desktop/bitazza/bitazza_test/pages/admin/news_list.js"],"names":["Component","Link","jsCookie","NewsList","props","date_filter","get","input","window","fetch","method","headers","body","qs","stringify","response","ok","json","output","status","items","result","dates","length","i","item","item_dt","publish_date","split","indexOf","push","console","log","e","target","name","set","value","location","href","state","cookie","map","k","v","addNewsClick"],"mappings":"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","sourcesContent":["import { Component } from 'react';\nimport Link from 'next/link'\nimport jsCookie from 'js-cookie';\n\nclass NewsList extends Component {\n    \n    constructor(props) {\n        super(props);\n        this.state = {\n        };\n        this.items = [];\n        this.dates = ['All'];\n        this.cookie = jsCookie;\n    };\n        \n    getList = () => {\n            (\n                async function(){\n                    try {\n                      var date_filter = jsCookie.get('date_filter');\n                      var input = {};\n                      input.date_filter = date_filter;\n                      const response = await window.fetch('/admin', {\n                        method: 'get',\n                        headers: {'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8'},\n                        body: qs.stringify(input)\n                      })\n\n                      if (response.ok) {\n                        const { output } = await response.json();\n                        if(output.status){\n                            this.items = output.result;\n                            this.dates = ['All'];\n                            if(date_filter == 0 && this.items.length > 0){\n                                for(var i = 0; i < this.items.length; i++){\n                                    var item = this.items[i];\n                                    var item_dt = item.publish_date.split(' ');\n                                    if(this.dates.indexOf(item_dt[0]) == -1){\n                                        this.dates.push(item_dt[0]);\n                                    }\n                                }\n                            }\n                        }else{\n                            console.log('List News failed.');\n                        }\n                      } else {\n                        console.log('List News failed.');\n                      }\n                    } catch (error) {\n                      console.log('Implementation or Network error.');\n                    }\n                }\n            )(this);\n    }\n\n    handleChange = (e) => {\n        if(e.target.name == 'date_filter'){\n            jsCookie.set('date_filter', e.target.value);\n            window.location.href = '/admin';\n        }\n    };\n    \n    addNewsClick = () => {\n        jsCookie.set('action', 'add_news');\n        window.location.href = '/admin';\n    };\n    \n    \n    render () {\n      return (\n            <div className=\"content_box\">\n                <div className=\"table_header\">\n                    <div className=\"filter_box\">\n                      <select className=\"myselect\" name=\"date_filter\">\n                        {this.dates && this.dates.length > 0 && this.dates.map((k, v) => {\n          console.log(k);\n          console.log(v);\n                            if(v != 'All'){\n                                return <option value=\"{v}\">{v}</option>\n                            }else{\n                                return <option value=\"0\">All</option>\n                            }\n                        })}\n                      </select>\n                    </div>\n                    <div onClick={this.addNewsClick} className=\"add_but\">+ Add News</div>\n                    <div className=\"clear\"></div>\n                </div>\n                <div className=\"clear\"></div>\n                <style jsx>{`\n                    .content_box{\n                        height:calc(100% - 60px);\n                        padding:8px;\n                    }\n                    .add_but{\n                        float:right;\n                        padding:4px 12px 4px 12px;\n                        background-color:#006; \n                        color:#FFF;\n                        border-radius:8px;\n                        cursor:pointer;\n                        margin-left:12px;\n                    }\n                    .table_header{\n                        float:left;\n                    }\n                    .filter_box{\n                        float:left;\n                    }\n                    .myselect{\n                        font-size:15px;\n                        border:2px solid #d3d3d5;\n                        background-color:#f3f3f5; \n                        border-radius:0px; \n                        -webkit-border-radius:0px; \n                        appearance:none; \n                        -webkit-appearance: none; \n                        outline:none;\n                        position: relative;\n                        text-align:left;\n                        z-index: 99;\n                        line-height:20px;\n                        padding:0px 36px 0px 8px;\n                        background:url(/static/images/select_arrow.png) no-repeat right #fff;\n                    }\n                `}</style>\n            </div>\n      );\n    }\n}\n\nexport default NewsList"]},"metadata":{},"sourceType":"module"}