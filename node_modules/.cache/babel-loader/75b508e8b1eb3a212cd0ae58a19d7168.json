{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nimport { Component } from 'react';\nimport Link from 'next/link';\nimport qs from 'querystring';\nimport Login from '/admin/login.js';\n\nvar Admin =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Admin, _Component);\n\n  function Admin(props) {\n    var _this;\n\n    _classCallCheck(this, Admin);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Admin).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"handleChange\", function (e) {\n      _this.setState(_defineProperty({}, e.target.name, e.target.value));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getContent\", function () {\n      if (_this.state.id == 0) {\n        _this.state.content = React.createElement(Login, null);\n      }\n\n      return _this.state.content;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"loginClick\", function () {\n      console.log(_this.state);\n\n      var inst = _assertThisInitialized(_this);\n\n      _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var response, _ref2, output;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return window.fetch('http://localhost:3000/admin', {\n                  method: 'post',\n                  headers: {\n                    'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8'\n                  },\n                  body: qs.stringify(inst.state)\n                });\n\n              case 3:\n                response = _context.sent;\n\n                if (!response.ok) {\n                  _context.next = 12;\n                  break;\n                }\n\n                _context.next = 7;\n                return response.json();\n\n              case 7:\n                _ref2 = _context.sent;\n                output = _ref2.output;\n\n                if (output.status) {\n                  window.location.href = '/admin/news';\n                } else {\n                  console.log('Login failed.');\n                }\n\n                _context.next = 13;\n                break;\n\n              case 12:\n                console.log('Login failed.');\n\n              case 13:\n                _context.next = 18;\n                break;\n\n              case 15:\n                _context.prev = 15;\n                _context.t0 = _context[\"catch\"](0);\n                console.log('Implementation or Network error.');\n\n              case 18:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 15]]);\n      }))(_assertThisInitialized(_this));\n    });\n\n    _this.state = {\n      id: 0,\n      user: '',\n      pass: ''\n    };\n    _this.content = React.createElement(\"div\", null);\n    return _this;\n  }\n\n  _createClass(Admin, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"jsx-4248607944\" + \" \" + \"container\"\n      }, React.createElement(\"div\", {\n        className: \"jsx-4248607944\" + \" \" + \"header\"\n      }, \"Admin\"), this.getContent(), React.createElement(_JSXStyle, {\n        id: \"4248607944\"\n      }, \"html{height:100%;font-family:Gotham,\\\"Helvetica Neue\\\",Helvetica,Arial,sans-serif;font-size:15px;line-height:17px;color:#333;}body{margin:0px;padding:0px;width:100%;height:100%;}.container{height:100%;}.header{height:28px;padding:8px;background-color:#006;color:#FFF;line-height:28px;font-weight:bold;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9rYWkvRGVza3RvcC9iaXRhenphL2JpdGF6emFfdGVzdC9wYWdlcy9hZG1pbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFnRTJCLEFBRzZCLEFBT0YsQUFNQyxBQUdBLFdBUkEsQ0FQdUQsQUFhdEUsQUFHZSxXQVJELENBU1csVUFSVixZQUNmLEFBUWMsV0FDTSxpQkFDQSxDQW5CRixlQUNFLENBbUJwQixnQkFsQmMsV0FDZCIsImZpbGUiOiIvVXNlcnMva2FpL0Rlc2t0b3AvYml0YXp6YS9iaXRhenphX3Rlc3QvcGFnZXMvYWRtaW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCdcbmltcG9ydCBMaW5rIGZyb20gJ25leHQvbGluaydcbmltcG9ydCBxcyBmcm9tICdxdWVyeXN0cmluZydcbmltcG9ydCBMb2dpbiBmcm9tICcvYWRtaW4vbG9naW4uanMnXG5cbmNsYXNzIEFkbWluIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBpZDogMCxcbiAgICAgICAgICAgIHVzZXI6ICcnLFxuICAgICAgICAgICAgcGFzczogJydcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5jb250ZW50ID0gKDxkaXY+PC9kaXY+KVxuICAgIH07XG5cbiAgICBoYW5kbGVDaGFuZ2UgPSAoZSkgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIFtlLnRhcmdldC5uYW1lXTogZS50YXJnZXQudmFsdWVcbiAgICAgICAgfSlcbiAgICB9O1xuICAgICAgICBcbiAgICBnZXRDb250ZW50ID0gKCkgPT4ge1xuICAgICAgICBpZih0aGlzLnN0YXRlLmlkID09IDApe1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5jb250ZW50ID0gKDxMb2dpbi8+KVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlLmNvbnRlbnQ7XG4gICAgfVxuICAgIFxuICAgIGxvZ2luQ2xpY2sgPSAoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuc3RhdGUpO1xuICAgICAgICBsZXQgaW5zdCA9IHRoaXM7XG4gICAgICAgIChcbiAgICAgICAgICAgIGFzeW5jIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgd2luZG93LmZldGNoKCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYWRtaW4nLCB7XG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnLFxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD1VVEYtOCd9LFxuICAgICAgICAgICAgICAgICAgICBib2R5OiBxcy5zdHJpbmdpZnkoaW5zdC5zdGF0ZSlcbiAgICAgICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IG91dHB1dCB9ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXG4gICAgICAgICAgICAgICAgICAgIGlmKG91dHB1dC5zdGF0dXMpe1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL2FkbWluL25ld3MnO1xuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdMb2dpbiBmYWlsZWQuJylcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0xvZ2luIGZhaWxlZC4nKVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnSW1wbGVtZW50YXRpb24gb3IgTmV0d29yayBlcnJvci4nKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgKSh0aGlzKTtcbiAgICB9XG4gICAgXG4gICAgcmVuZGVyICgpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGVhZGVyXCI+QWRtaW48L2Rpdj5cbiAgICAgICAgICB7dGhpcy5nZXRDb250ZW50KCl9XG4gICAgICAgIDxzdHlsZSBqc3ggZ2xvYmFsPntgXG4gICAgICAgICAgICBodG1sIHtcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgICAgICAgICAgZm9udC1mYW1pbHk6R290aGFtLCBcIkhlbHZldGljYSBOZXVlXCIsIEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWY7XG4gICAgICAgICAgICAgICAgZm9udC1zaXplOjE1cHg7XG4gICAgICAgICAgICAgICAgbGluZS1oZWlnaHQ6MTdweDtcbiAgICAgICAgICAgICAgICBjb2xvcjojMzMzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYm9keXtcbiAgICAgICAgICAgICAgICBtYXJnaW46MHB4O1xuICAgICAgICAgICAgICAgIHBhZGRpbmc6MHB4O1xuICAgICAgICAgICAgICAgIHdpZHRoOjEwMCU7IFxuICAgICAgICAgICAgICAgIGhlaWdodDoxMDAlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLmNvbnRhaW5lcntcbiAgICAgICAgICAgICAgICBoZWlnaHQ6MTAwJTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5oZWFkZXJ7XG4gICAgICAgICAgICAgICAgaGVpZ2h0OjI4cHg7XG4gICAgICAgICAgICAgICAgcGFkZGluZzo4cHg7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjojMDA2OyBcbiAgICAgICAgICAgICAgICBjb2xvcjojRkZGO1xuICAgICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OjI4cHg7XG4gICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6Ym9sZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgYH08L3N0eWxlPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFkbWluIl19 */\\n/*@ sourceURL=/Users/kai/Desktop/bitazza/bitazza_test/pages/admin.js */\"));\n    }\n  }]);\n\n  return Admin;\n}(Component);\n\nexport default Admin;","map":{"version":3,"sources":["/Users/kai/Desktop/bitazza/bitazza_test/pages/admin.js"],"names":["Component","Link","qs","Login","Admin","props","e","setState","target","name","value","state","id","content","console","log","inst","window","fetch","method","headers","body","stringify","response","ok","json","output","status","location","href","user","pass","getContent"],"mappings":";;;;;;;;;;;AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,EAAP,MAAe,aAAf;AACA,OAAOC,KAAP,MAAkB,iBAAlB;;IAEMC,K;;;;;AAEF,iBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,+EAAMA,KAAN;;AADe,mEAUJ,UAACC,CAAD,EAAO;AAClB,YAAKC,QAAL,qBACKD,CAAC,CAACE,MAAF,CAASC,IADd,EACqBH,CAAC,CAACE,MAAF,CAASE,KAD9B;AAGH,KAdkB;;AAAA,iEAgBN,YAAM;AACf,UAAG,MAAKC,KAAL,CAAWC,EAAX,IAAiB,CAApB,EAAsB;AAClB,cAAKD,KAAL,CAAWE,OAAX,GAAsB,oBAAC,KAAD,OAAtB;AACH;;AACD,aAAO,MAAKF,KAAL,CAAWE,OAAlB;AACH,KArBkB;;AAAA,iEAuBN,YAAM;AACfC,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAKJ,KAAjB;;AACA,UAAIK,IAAI,gCAAR;;AACA;AAAA;AAAA,+BACI;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAE6BC,MAAM,CAACC,KAAP,CAAa,6BAAb,EAA4C;AACjEC,kBAAAA,MAAM,EAAE,MADyD;AAEjEC,kBAAAA,OAAO,EAAE;AAAC,oCAAgB;AAAjB,mBAFwD;AAGjEC,kBAAAA,IAAI,EAAEnB,EAAE,CAACoB,SAAH,CAAaN,IAAI,CAACL,KAAlB;AAH2D,iBAA5C,CAF7B;;AAAA;AAEYY,gBAAAA,QAFZ;;AAAA,qBAQUA,QAAQ,CAACC,EARnB;AAAA;AAAA;AAAA;;AAAA;AAAA,uBASiCD,QAAQ,CAACE,IAAT,EATjC;;AAAA;AAAA;AASgBC,gBAAAA,MAThB,SASgBA,MAThB;;AAUQ,oBAAGA,MAAM,CAACC,MAAV,EAAiB;AACbV,kBAAAA,MAAM,CAACW,QAAP,CAAgBC,IAAhB,GAAuB,aAAvB;AACH,iBAFD,MAEK;AACDf,kBAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACH;;AAdT;AAAA;;AAAA;AAgBQD,gBAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;;AAhBR;AAAA;AAAA;;AAAA;AAAA;AAAA;AAmBMD,gBAAAA,OAAO,CAACC,GAAR,CAAY,kCAAZ;;AAnBN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADJ;AAwBH,KAlDkB;;AAEf,UAAKJ,KAAL,GAAa;AACTC,MAAAA,EAAE,EAAE,CADK;AAETkB,MAAAA,IAAI,EAAE,EAFG;AAGTC,MAAAA,IAAI,EAAE;AAHG,KAAb;AAKA,UAAKlB,OAAL,GAAgB,gCAAhB;AAPe;AAQlB;;;;6BA4CS;AACR,aACI;AAAA,4CAAe;AAAf,SACE;AAAA,4CAAe;AAAf,iBADF,EAEC,KAAKmB,UAAL,EAFD;AAAA;AAAA,q0IADJ;AAgCD;;;;EAvFehC,S;;AA0FpB,eAAeI,KAAf","sourcesContent":["import { Component } from 'react'\nimport Link from 'next/link'\nimport qs from 'querystring'\nimport Login from '/admin/login.js'\n\nclass Admin extends Component {\n    \n    constructor(props) {\n        super(props);\n        this.state = {\n            id: 0,\n            user: '',\n            pass: ''\n        };\n        this.content = (<div></div>)\n    };\n\n    handleChange = (e) => {\n        this.setState({\n            [e.target.name]: e.target.value\n        })\n    };\n        \n    getContent = () => {\n        if(this.state.id == 0){\n            this.state.content = (<Login/>)\n        }\n        return this.state.content;\n    }\n    \n    loginClick = () => {\n        console.log(this.state);\n        let inst = this;\n        (\n            async function(){\n                try {\n                  const response = await window.fetch('http://localhost:3000/admin', {\n                    method: 'post',\n                    headers: {'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8'},\n                    body: qs.stringify(inst.state)\n                  })\n\n                  if (response.ok) {\n                    const { output } = await response.json()\n                    if(output.status){\n                        window.location.href = '/admin/news';\n                    }else{\n                        console.log('Login failed.')\n                    }\n                  } else {\n                    console.log('Login failed.')\n                  }\n                } catch (error) {\n                  console.log('Implementation or Network error.')\n                }\n            }\n        )(this);\n    }\n    \n    render () {\n      return (\n          <div className=\"container\">\n            <div className=\"header\">Admin</div>\n          {this.getContent()}\n        <style jsx global>{`\n            html {\n                height: 100%;\n                font-family:Gotham, \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n                font-size:15px;\n                line-height:17px;\n                color:#333;\n            }\n            body{\n                margin:0px;\n                padding:0px;\n                width:100%; \n                height:100%;\n            }\n            .container{\n                height:100%;\n            }\n            .header{\n                height:28px;\n                padding:8px;\n                background-color:#006; \n                color:#FFF;\n                line-height:28px;\n                font-weight:bold;\n            }\n        `}</style>\n          </div>\n      );\n    }\n}\n\nexport default Admin"]},"metadata":{},"sourceType":"module"}