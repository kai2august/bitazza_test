{"version":3,"file":"static/webpack/static/development/pages/index.js.0d5ac7e5277010bfb502.hot-update.js","sources":["webpack:///./pages/news_details.js"],"sourcesContent":["import { Component } from 'react';\nimport Link from 'next/link';\nimport jsCookie from 'js-cookie';\nimport qs from 'querystring';\n\nclass UserNewsDetails extends Component {\n    \n    constructor(props) {\n        super(props);\n        this.state = {\n            id : 0,\n            title : '',\n            cover_image : '',\n            description : '',\n            publish_date : ''\n        };\n        let view_id = jsCookie.get('view_news_id');\n        if(typeof(view_id) != 'undefined'){\n            this.state.id = view_id;\n        }\n    };\n        \n    getNewsDetals = () => {\n        var inst = this;\n        (\n            async function(){\n                try {\n                    var goid = 0;\n                    if(typeof(inst.state.id) != 'undefined' && inst.state.id != 0){\n                        goid = inst.state.id;\n                        const response = await window.fetch('/news?id=' + goid , {\n                            method: 'get',\n                            headers: {'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8'}\n                        })\n\n                        if (response.ok) {\n                            const { output } = await response.json();\n                            if(output.status){\n                                inst.setState({ \n                                    title : output.result.title, \n                                    cover_image : output.result.cover_image,\n                                    description : output.result.description,\n                                    publish_date : output.result.publish_date.toString().replace(/T/, ' ').replace(/\\..+/, '')\n                                });\n                            }else{\n                                console.log('Get News failed.');\n                            }\n                        } else {\n                            console.log('Get News failed.');\n                        }\n                    } else {\n                        console.log('No News ID.');\n                    }\n                } catch (error) {\n                    console.log('Implementation or Network error.');\n                }\n            }\n        )(this);\n    }\n        \n    getImage = () => {\n        if(this.state.cover_image != ''){\n            return (\n                <img src={this.state.cover_image} className=\"item_image\"/>\n            )     \n        }else{\n            return ''; \n        }\n    }\n\n    componentDidMount() {\n        this.getNewsDetals();\n    }\n    \n    render() {\n      return (\n            <div className=\"content_box\">\n                <div className=\"content_page\">\n                    <div className=\"item_title\">{this.state.title}</div>\n                    <div className=\"item_date\">{this.state.publish_date}</div>\n                    <div className=\"center_div\">\n                    {this.getImage()}\n                    </div>\n                    <div className=\"item_desc\">{this.state.description}</div>\n                </div>\n                <style jsx>{`\n                    .content_box{\n                        height:calc(100% - 44px);\n                        overflow-x:hidden;\n                        overflow-y:auto;\n                    }\n                    .content_page{\n                        padding:8px;\n                    }\n                    .item_image{\n                        width:100%; \n                        height:auto;\n                        display:block;\n                    }\n                    .item_title{\n                        font-size:17px;\n                        font-weight:bold; \n                        line-height:22px;\n                        margin-top:12px;\n                    }\n                    .item_desc{\n                        font-size:15px;\n                        line-height:20px;\n                        margin-top:16px;\n                    }\n                    .item_date{\n                        height:16px;\n                        font-size:12px;\n                        line-height:16px;\n                        color:#999999; \n                        margin-top:8px;\n                    }\n                    .center_div{\n                        margin:8px;\n                        text-align:center;\n                    }\n                `}</style>\n            </div>\n      );\n    }\n}\n\nexport default UserNewsDetails"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;AAEA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAgBA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAHA;AAAA;AAAA;AAAA;AACA;AAGA;AAJA;AAAA;AAMA;AACA;AAAA;AAAA;AAFA;AACA;AANA;AAKA;AACA;AANA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAWA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AAtBA;AAAA;AACA;AADA;AAuBA;AACA;AAxBA;AAAA;AAAA;AACA;AADA;AA0BA;AACA;AA3BA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AA6BA;AACA;AA9BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiCA;AACA;AApDA;AAsDA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AA5DA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AAAA;AACA;AACA;AACA;AAbA;AAaA;AACA;;;AAiDA;AACA;AACA;;;AAEA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAGA;AAAA;AAPA;AAAA;AAgDA;;;;AAvHA;AACA;AAyHA;;;;A","sourceRoot":""}